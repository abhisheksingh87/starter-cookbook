<!DOCTYPE html>
<html>
  <head>
    <title>WellsFargo Application Modernization Cookbook</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2021-01-06T19:57:49 CST">
<title>Custom Spring Bean Validation :: WellsFargo Application Modernization Cookbook</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/hybrid.css" rel="stylesheet">
<link href="/css/featherlight.min.css" rel="stylesheet">
<link href="/css/auto-complete.css" rel="stylesheet">
<link href="/theme-original/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<link href="/css/custom.css" rel="stylesheet">
<script language="javascript" src="/js/localforage.nopromises.min.js"></script>
    
  </head>
  <body data-url="/best-practices/custom-spring-validation/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><figure><a href="/">
    <img src="/images/wellsfargo.png"/> </a>
</figure>

Application Starter Cookbook</p>

  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/js/lunr.min.js"></script>
		<script type="text/javascript" src="/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "\/";
        
		</script>
		<script type="text/javascript" src="/js/search.js"></script>
  </div>

      <ul class="topics">
    <li data-nav-id="/common/" class="dd-item haschildren
        ">
      <div>
      <a href="/common/"><i class='fa fa-spinner fa-pulse fa-1x fa-fw'></i>&nbsp;&nbsp;Let&#39;s get started</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/common/create-app-using-starter/" class="dd-item">
        <div>
          <a href="/common/create-app-using-starter/">
            1. Create barebone microservice using the starter
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/recipes-non-reactive/" class="dd-item haschildren
        ">
      <div>
      <a href="/recipes-non-reactive/"><i class='fa fa-cutlery'></i>&nbsp;&nbsp;Non-Reactive Recipes</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/recipes-non-reactive/configure-actuator/" class="dd-item">
        <div>
          <a href="/recipes-non-reactive/configure-actuator/">
            2. Configure Actuators
          </a>
        </div>
    </li>
      <li data-nav-id="/recipes-non-reactive/configure-oracle/" class="dd-item">
        <div>
          <a href="/recipes-non-reactive/configure-oracle/">
            3. Configure Oracle
          </a>
        </div>
    </li>
      <li data-nav-id="/recipes-non-reactive/configure-mongodb/" class="dd-item">
        <div>
          <a href="/recipes-non-reactive/configure-mongodb/">
            4. Configure MongoDB
          </a>
        </div>
    </li>
      <li data-nav-id="/recipes-non-reactive/accessing-data-mongodb/" class="dd-item">
        <div>
          <a href="/recipes-non-reactive/accessing-data-mongodb/">
            5. Access Data in MongoDB
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/recipes-reactive/" class="dd-item haschildren
        ">
      <div>
      <a href="/recipes-reactive/"><i class='fa fa-cutlery'></i>&nbsp;&nbsp;Reactive Recipes</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/recipes-reactive/configure-actuator/" class="dd-item">
        <div>
          <a href="/recipes-reactive/configure-actuator/">
            2. Configure Actuators
          </a>
        </div>
    </li>
      <li data-nav-id="/recipes-reactive/configure-mongodb/" class="dd-item">
        <div>
          <a href="/recipes-reactive/configure-mongodb/">
            3. Configure MongoDB
          </a>
        </div>
    </li>
      <li data-nav-id="/recipes-reactive/accessing-data-mongodb-reactive/" class="dd-item">
        <div>
          <a href="/recipes-reactive/accessing-data-mongodb-reactive/">
            4. Access Data in MongoDB
          </a>
        </div>
    </li>
      <li data-nav-id="/recipes-reactive/why-reactive-and-when-to-use/" class="dd-item">
        <div>
          <a href="/recipes-reactive/why-reactive-and-when-to-use/">
            5. Why Reactive
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/best-practices/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/best-practices/"><i class='fa fa-book fa-fw'></i>&nbsp;&nbsp;Best Practices</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/best-practices/custom-spring-validation/" class="dd-item active">
        <div>
          <a href="/best-practices/custom-spring-validation/">
            Custom Spring Bean Validation
          </a>
        </div>
    </li>
      <li data-nav-id="/best-practices/git-commit-messages/" class="dd-item">
        <div>
          <a href="/best-practices/git-commit-messages/">
            Git Commit Best Practices
          </a>
        </div>
    </li>
      <li data-nav-id="/best-practices/spring-boot-structure/" class="dd-item">
        <div>
          <a href="/best-practices/spring-boot-structure/">
            Organize codebase
          </a>
        </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h5>&nbsp;</h5><a href="/tags/"  rel="noopener"><i class='fa fa-tag'></i>&nbsp;&nbsp;All Tags</a></li>
        </section>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/'>Home</a> > <a href='/best-practices/'>Best Practices</a> > Custom Spring Bean Validation

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#context">Context</a></li>
    <li><a href="#use-case">Use Case:</a></li>
    <li><a href="#setup">Setup:</a></li>
    <li><a href="#controller"><strong>Controller:</strong></a></li>
    <li><a href="#new-custom-annotation">New Custom Annotation:</a></li>
    <li><a href="#custom-validator">Custom Validator:</a></li>
    <li><a href="#unit-testing">Unit Testing:</a></li>
    <li><a href="#test">Test:</a>
      <ul>
        <li><a href="#1-valid-request">1. Valid request:</a></li>
        <li><a href="#2-invalid-request">2. Invalid request:</a></li>
        <li><a href="#response">Response:</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </div>
    

  </div>


  <div id="tags">
    
      <a class="label label-default" href="/tags/practices">practices</a>
    
      <a class="label label-default" href="/tags/spring-boot">spring boot</a>
    
      <a class="label label-default" href="/tags/microservice">microservice</a>
    
      <a class="label label-default" href="/tags/custom-spring-bean-validation">custom spring bean validation</a>
    
  </div>
  <br/>

<div id="body-inner">
  
    <h1>Custom Spring Bean Validation</h1>
  


    
    
    
    <h2 id="context">Context</h2>
<p>While implementing Spring REST endpoints for Spring boot applications, adding validations (inbuilt/custom) becomes inevitable. For most cases the inbuilt validators provided by JSR 380, also known as Bean Validation 2.0 framework would suffice. Some of the inbuilt validators provided are: @NotNull, @NotEmpty, @NotBlank, @Min, @Max, @Size to name a few. There are still instances where the validation need can’t be taken care of by the inbuilt validators provided by JSR 380 and in such cases we need to write custom validators which takes care of providing custom validation logic to the bean attributes.</p>
<h2 id="use-case">Use Case:</h2>
<p>Let’s assume a use case wherein we need to validate customer location details with custom validation of fields locationId, countryCode and postCode. These three fields should accept <em>only numeric strings</em> (ex: “123&quot;)</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"> <span style="color:#555;font-weight:bold">@Getter</span>
 <span style="color:#555;font-weight:bold">@Setter</span>
 <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">CustomerLocation</span> <span style="color:#666">{</span>
     <span style="color:#555;font-weight:bold">@NumericString</span><span style="color:#666">(</span>message <span style="color:#666">=</span> <span style="color:#4070a0">&#34;locationId should be numeric&#34;</span><span style="color:#666">)</span>
     <span style="color:#007020;font-weight:bold">private</span> String locationId<span style="color:#666">;</span>
     <span style="color:#555;font-weight:bold">@NotBlank</span><span style="color:#666">(</span>message <span style="color:#666">=</span> <span style="color:#4070a0">&#34;city cannot not be empty&#34;</span><span style="color:#666">)</span>
     <span style="color:#007020;font-weight:bold">private</span> String city<span style="color:#666">;</span>
     <span style="color:#555;font-weight:bold">@NumericString</span><span style="color:#666">(</span>message <span style="color:#666">=</span> <span style="color:#4070a0">&#34;countryCode should be numeric&#34;</span><span style="color:#666">)</span>
     <span style="color:#007020;font-weight:bold">private</span> String countryCode<span style="color:#666">;</span>
     <span style="color:#555;font-weight:bold">@NumericString</span><span style="color:#666">(</span>message <span style="color:#666">=</span> <span style="color:#4070a0">&#34;postCode should be numeric&#34;</span><span style="color:#666">)</span>
     <span style="color:#007020;font-weight:bold">private</span> String postCode<span style="color:#666">;</span>
  <span style="color:#666">}</span>
</code></pre></div><p>In the above example both inbuilt (@NotBlank) and custom (@NumericString) validators are being used. @NotBlank would ensure that the value passed to city attribute is not blank however @NumericString validator would ensure that the value passed to locationId, countryCode &amp; postCode is <em>a numeric string</em></p>
<h2 id="setup">Setup:</h2>
<p>Add below dependency to build.gradle. The latest dependency can be checked <a href="https://search.maven.org/classic/#search%7Cgav%7C1%7Cg%3A%22org.hibernate%22%20AND%20a%3A%22hibernate-validator%22">here</a></p>
<pre><code>   compile group: 'org.hibernate', name: 'hibernate-validator', version: '4.2.0.Final'
</code></pre><p>If we&rsquo;re using Spring Boot, then we need below dependency to be added, which will bring in the hibernate-validator dependency also.</p>
<pre><code>   implementation: 'org.springframework.boot:spring-boot-starter-validation:2.4.1'
</code></pre><h2 id="controller"><strong>Controller:</strong></h2>
<p>Lets see the REST endpoint which validates the incoming request:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#555;font-weight:bold">@RestController</span>
   <span style="color:#555;font-weight:bold">@Validated</span>  
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">ValidatorController</span> <span style="color:#666">{</span>
       <span style="color:#555;font-weight:bold">@PostMapping</span><span style="color:#666">(</span>value<span style="color:#666">=</span><span style="color:#4070a0">&#34;/v1/validate&#34;</span><span style="color:#666">,</span> produces <span style="color:#666">=</span> <span style="color:#4070a0">&#34;application/json&#34;</span><span style="color:#666">)</span>
       <span style="color:#007020;font-weight:bold">public</span> ResponseEntity<span style="color:#666">&lt;</span>String<span style="color:#666">&gt;</span> <span style="color:#06287e">validateCustomerLocation</span><span style="color:#666">(</span><span style="color:#555;font-weight:bold">@ValidCustomerLocation</span> <span style="color:#555;font-weight:bold">@RequestBody</span> CustomerLocation customerLocation<span style="color:#666">){</span>
           <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">new</span> ResponseEntity<span style="color:#666">&lt;&gt;(</span>HttpStatus<span style="color:#666">.</span><span style="color:#4070a0">ACCEPTED</span><span style="color:#666">);</span>
       <span style="color:#666">}</span>
   <span style="color:#666">}</span>
</code></pre></div><p>Note that we have to add Spring’s @Validated annotation to the controller at class level to tell Spring to evaluate the constraint annotations on method parameters.
The @Validated annotation is only evaluated on class level in this case, even though it’s allowed to be used on methods.</p>
<h2 id="new-custom-annotation">New Custom Annotation:</h2>
<p>Creating a custom validator entails us rolling out our own annotation and using it in our model to enforce the validation rules.
ValidCustomerLocation is a custom validator annotation for which the constraints would be validated by CustomerLocationValidator class as shown below:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#555;font-weight:bold">@Target</span><span style="color:#666">({</span>ElementType<span style="color:#666">.</span><span style="color:#4070a0">FIELD</span><span style="color:#666">,</span> ElementType<span style="color:#666">.</span><span style="color:#4070a0">PARAMETER</span><span style="color:#666">})</span>
   <span style="color:#555;font-weight:bold">@Retention</span><span style="color:#666">(</span>RetentionPolicy<span style="color:#666">.</span><span style="color:#4070a0">RUNTIME</span><span style="color:#666">)</span>
   <span style="color:#555;font-weight:bold">@Constraint</span><span style="color:#666">(</span>validatedBy <span style="color:#666">=</span> <span style="color:#666">{</span>CustomerLocationValidator<span style="color:#666">.</span><span style="color:#4070a0">class</span><span style="color:#666">})</span>
   <span style="color:#555;font-weight:bold">@Documented</span>
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#555;font-weight:bold">@interface</span> ValidCustomerLocation <span style="color:#666">{</span>
   String <span style="color:#06287e">message</span><span style="color:#666">()</span> <span style="color:#007020;font-weight:bold">default</span> <span style="color:#4070a0">&#34;Invalid customer location&#34;</span><span style="color:#666">;</span>
       Class<span style="color:#666">&lt;?&gt;[]</span> groups<span style="color:#666">()</span> <span style="color:#007020;font-weight:bold">default</span> <span style="color:#666">{};</span>
       Class<span style="color:#666">&lt;?</span> <span style="color:#007020;font-weight:bold">extends</span> Payload<span style="color:#666">&gt;[]</span> <span style="color:#06287e">payload</span><span style="color:#666">()</span> <span style="color:#007020;font-weight:bold">default</span> <span style="color:#666">{};</span>
   <span style="color:#666">}</span>
</code></pre></div><p>The @Constraint annotation defined in the class is going to validate our field and message() is the error message that is returned to the client.
The additional code is boilerplate code that conforms to Spring standards.</p>
<h2 id="custom-validator">Custom Validator:</h2>
<p>The validation class (CustomerLocationValidator) implements the <em>ConstraintValidator</em> interface and must implement the isValid() method.
It&rsquo;s in this method we will define our validation rules.</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">CustomerLocationValidator</span> <span style="color:#007020;font-weight:bold">implements</span> ConstraintValidator<span style="color:#666">&lt;</span>CustomerLocationConstraint<span style="color:#666">,</span> CustomerLocation<span style="color:#666">&gt;</span> <span style="color:#666">{</span>
 
     <span style="color:#555;font-weight:bold">@Autowired</span>
     Validator validator<span style="color:#666">;</span>
 
     <span style="color:#555;font-weight:bold">@Override</span>
     <span style="color:#007020;font-weight:bold">public</span> <span style="color:#902000">boolean</span> <span style="color:#06287e">isValid</span><span style="color:#666">(</span>com<span style="color:#666">.</span><span style="color:#4070a0">wellsfargo</span><span style="color:#666">.</span><span style="color:#4070a0">cto</span><span style="color:#666">.</span><span style="color:#4070a0">eai</span><span style="color:#666">.</span><span style="color:#4070a0">customvalidator</span><span style="color:#666">.</span><span style="color:#4070a0">model</span><span style="color:#666">.</span><span style="color:#4070a0">CustomerLocation</span> customerLocation<span style="color:#666">,</span> ConstraintValidatorContext constraintValidatorContext<span style="color:#666">)</span> <span style="color:#666">{</span>
         Set<span style="color:#666">&lt;</span>ConstraintViolation<span style="color:#666">&lt;</span>com<span style="color:#666">.</span><span style="color:#4070a0">wellsfargo</span><span style="color:#666">.</span><span style="color:#4070a0">cto</span><span style="color:#666">.</span><span style="color:#4070a0">eai</span><span style="color:#666">.</span><span style="color:#4070a0">customvalidator</span><span style="color:#666">.</span><span style="color:#4070a0">model</span><span style="color:#666">.</span><span style="color:#4070a0">CustomerLocation</span><span style="color:#666">&gt;&gt;</span> constraintViolations <span style="color:#666">=</span> validator<span style="color:#666">.</span><span style="color:#4070a0">validate</span><span style="color:#666">(</span>customerLocation<span style="color:#666">);</span>
         <span style="color:#007020;font-weight:bold">if</span> <span style="color:#666">(!</span>CollectionUtils<span style="color:#666">.</span><span style="color:#4070a0">isEmpty</span><span style="color:#666">(</span>constraintViolations<span style="color:#666">))</span> <span style="color:#666">{</span>
             constraintValidatorContext<span style="color:#666">.</span><span style="color:#4070a0">disableDefaultConstraintViolation</span><span style="color:#666">();</span>
             constraintViolations<span style="color:#666">.</span><span style="color:#4070a0">forEach</span><span style="color:#666">(</span>customerLocationConstraintViolation <span style="color:#666">-&gt;</span> constraintValidatorContext
                     <span style="color:#666">.</span><span style="color:#4070a0">buildConstraintViolationWithTemplate</span><span style="color:#666">(</span>
                             customerLocationConstraintViolation<span style="color:#666">.</span><span style="color:#4070a0">getMessageTemplate</span><span style="color:#666">())</span>
                     <span style="color:#666">.</span><span style="color:#4070a0">addConstraintViolation</span><span style="color:#666">());</span>
             <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">false</span><span style="color:#666">;</span>
         <span style="color:#666">}</span>
         <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">true</span><span style="color:#666">;</span>
     <span style="color:#666">}</span>
 <span style="color:#666">}</span>
</code></pre></div><p>Attributes with @NumericString annotation would be validated by NumericStringValidator class as shown below:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#555;font-weight:bold">@Target</span><span style="color:#666">({</span>ElementType<span style="color:#666">.</span><span style="color:#4070a0">FIELD</span><span style="color:#666">,</span> ElementType<span style="color:#666">.</span><span style="color:#4070a0">PARAMETER</span><span style="color:#666">})</span>
   <span style="color:#555;font-weight:bold">@Retention</span><span style="color:#666">(</span>RetentionPolicy<span style="color:#666">.</span><span style="color:#4070a0">RUNTIME</span><span style="color:#666">)</span>
   <span style="color:#555;font-weight:bold">@Constraint</span><span style="color:#666">(</span>validatedBy <span style="color:#666">=</span> <span style="color:#666">{</span>NumericStringValidator<span style="color:#666">.</span><span style="color:#4070a0">class</span><span style="color:#666">})</span>
   <span style="color:#555;font-weight:bold">@Documented</span>
   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#555;font-weight:bold">@interface</span> NumericString <span style="color:#666">{</span>
       String <span style="color:#06287e">message</span><span style="color:#666">()</span> <span style="color:#007020;font-weight:bold">default</span> <span style="color:#4070a0">&#34;String should be numeric&#34;</span><span style="color:#666">;</span>
   
       Class<span style="color:#666">&lt;?&gt;[]</span> groups<span style="color:#666">()</span> <span style="color:#007020;font-weight:bold">default</span> <span style="color:#666">{};</span>
   
       Class<span style="color:#666">&lt;?</span> <span style="color:#007020;font-weight:bold">extends</span> Payload<span style="color:#666">&gt;[]</span> <span style="color:#06287e">payload</span><span style="color:#666">()</span> <span style="color:#007020;font-weight:bold">default</span> <span style="color:#666">{};</span>
   <span style="color:#666">}</span>
</code></pre></div><p>The implementation of NumericStringValidator would override the isValid() method and check if the attributes annotated with @NumericString contains only numerals using the regular expression check:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#007020;font-weight:bold">public</span> <span style="color:#007020;font-weight:bold">class</span> <span style="color:#0e84b5;font-weight:bold">NumericStringValidator</span> <span style="color:#007020;font-weight:bold">implements</span> ConstraintValidator<span style="color:#666">&lt;</span>NumericString<span style="color:#666">,</span> String<span style="color:#666">&gt;</span> <span style="color:#666">{</span>
       <span style="color:#555;font-weight:bold">@Override</span>
       <span style="color:#007020;font-weight:bold">public</span> <span style="color:#902000">boolean</span> <span style="color:#06287e">isValid</span><span style="color:#666">(</span>String str<span style="color:#666">,</span> ConstraintValidatorContext constraintValidatorContext<span style="color:#666">)</span> <span style="color:#666">{</span>
           <span style="color:#007020;font-weight:bold">if</span> <span style="color:#666">(</span>str<span style="color:#666">.</span><span style="color:#4070a0">matches</span><span style="color:#666">(</span><span style="color:#4070a0">&#34;[0-9]+&#34;</span><span style="color:#666">))</span> <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">true</span><span style="color:#666">;</span>
           <span style="color:#007020;font-weight:bold">return</span> <span style="color:#007020;font-weight:bold">false</span><span style="color:#666">;</span>
       <span style="color:#666">}</span>
   <span style="color:#666">}</span>
</code></pre></div><h2 id="unit-testing">Unit Testing:</h2>
<h2 id="test">Test:</h2>
<p>Complete code base is present at the below git location:</p>
<p><a href="https://github.com/rohanmukesh/spring-boot-custom-validator.git">https://github.com/rohanmukesh/spring-boot-custom-validator.git</a></p>
<p>Clone the codebase, build and run the CustomvalidatorApplication class. The application runs on default port 8080. Once it is up and running perform the below two tests:</p>
<h3 id="1-valid-request">1. Valid request:</h3>
<p>Endpoint URL: localhost:8080/v1/validate</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    {
      <span style="color:#062873;font-weight:bold">&#34;locationId&#34;</span>:<span style="color:#4070a0">&#34;aa&#34;</span>,
      <span style="color:#062873;font-weight:bold">&#34;countryCode&#34;</span>:<span style="color:#4070a0">&#34;sns&#34;</span>,
      <span style="color:#062873;font-weight:bold">&#34;postCode&#34;</span>:<span style="color:#4070a0">&#34;ss&#34;</span>
    }
</code></pre></div><p><strong>Response</strong>:</p>
<p>Status: HTTP response code 202 Accepted</p>
<h3 id="2-invalid-request">2. Invalid request:</h3>
<p>Endpoint URL: localhost:8080/v1/validate</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    {
     <span style="color:#062873;font-weight:bold">&#34;locationId&#34;</span>:<span style="color:#4070a0">&#34;locationId&#34;</span>,
     <span style="color:#062873;font-weight:bold">&#34;countryCode&#34;</span>:<span style="color:#4070a0">&#34;countryCode&#34;</span>,
     <span style="color:#062873;font-weight:bold">&#34;postCode&#34;</span>:<span style="color:#4070a0">&#34;postCode&#34;</span>
    }
</code></pre></div><h3 id="response">Response:</h3>
<p>Status: HTTP response code 400 Bad Request</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">   {
     <span style="color:#062873;font-weight:bold">&#34;errorCode&#34;</span>: <span style="color:#4070a0">&#34;400 BAD_REQUEST&#34;</span>,
     <span style="color:#062873;font-weight:bold">&#34;errorMessage&#34;</span>: <span style="color:#4070a0">&#34;Validation Errors&#34;</span>,
     <span style="color:#062873;font-weight:bold">&#34;errors&#34;</span>: [
       {
         <span style="color:#062873;font-weight:bold">&#34;rejectedValue&#34;</span>: {
           <span style="color:#062873;font-weight:bold">&#34;locationId&#34;</span>: <span style="color:#4070a0">&#34;aa&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;city&#34;</span>: <span style="color:#007020;font-weight:bold">null</span>,
           <span style="color:#062873;font-weight:bold">&#34;countryCode&#34;</span>: <span style="color:#4070a0">&#34;sns&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;postCode&#34;</span>: <span style="color:#4070a0">&#34;ss&#34;</span>
         },
         <span style="color:#062873;font-weight:bold">&#34;message&#34;</span>: <span style="color:#4070a0">&#34;postCode should be numeric&#34;</span>
       },
       {
         <span style="color:#062873;font-weight:bold">&#34;rejectedValue&#34;</span>: {
           <span style="color:#062873;font-weight:bold">&#34;locationId&#34;</span>: <span style="color:#4070a0">&#34;aa&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;city&#34;</span>: <span style="color:#007020;font-weight:bold">null</span>,
           <span style="color:#062873;font-weight:bold">&#34;countryCode&#34;</span>: <span style="color:#4070a0">&#34;sns&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;postCode&#34;</span>: <span style="color:#4070a0">&#34;ss&#34;</span>
         },
         <span style="color:#062873;font-weight:bold">&#34;message&#34;</span>: <span style="color:#4070a0">&#34;city cannot not be empty&#34;</span>
       },
       {
         <span style="color:#062873;font-weight:bold">&#34;rejectedValue&#34;</span>: {
           <span style="color:#062873;font-weight:bold">&#34;locationId&#34;</span>: <span style="color:#4070a0">&#34;aa&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;city&#34;</span>: <span style="color:#007020;font-weight:bold">null</span>,
           <span style="color:#062873;font-weight:bold">&#34;countryCode&#34;</span>: <span style="color:#4070a0">&#34;sns&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;postCode&#34;</span>: <span style="color:#4070a0">&#34;ss&#34;</span>
         },
         <span style="color:#062873;font-weight:bold">&#34;message&#34;</span>: <span style="color:#4070a0">&#34;locationId should be numeric&#34;</span>
       },
       {
         <span style="color:#062873;font-weight:bold">&#34;rejectedValue&#34;</span>: {
           <span style="color:#062873;font-weight:bold">&#34;locationId&#34;</span>: <span style="color:#4070a0">&#34;aa&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;city&#34;</span>: <span style="color:#007020;font-weight:bold">null</span>,
           <span style="color:#062873;font-weight:bold">&#34;countryCode&#34;</span>: <span style="color:#4070a0">&#34;sns&#34;</span>,
           <span style="color:#062873;font-weight:bold">&#34;postCode&#34;</span>: <span style="color:#4070a0">&#34;ss&#34;</span>
         },
         <span style="color:#062873;font-weight:bold">&#34;message&#34;</span>: <span style="color:#4070a0">&#34;countryCode should be numeric&#34;</span>
       }
     ]
   }
</code></pre></div>

    
    
      
<aside class="admonition">
	<div class="admonition-content last-updated">
		<p class="alignleft"><a href="/best-practices/custom-spring-validation/" class="hide-child link primary-color">Custom Spring Bean Validation</a> was last updated on December 17, 2020</p>
	</div>
</aside>

<footer class=" footline" >
	
</footer>

<div id="navigation">
</div>

</section>

<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
<div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>

<script src="/js/clipboard.min.js"></script>
<script src="/js/featherlight.min.js"></script>
<script src="/js/html5shiv-printshiv.min.js"></script>

<script src="/js/modernizr.custom.71422.js"></script>
<script src="/js/docdock.js"></script>
<script src="/theme-original/script.js"></script>

    

    
    

    
  </body>
</html>